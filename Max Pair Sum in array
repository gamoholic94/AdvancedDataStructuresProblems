class Solution:
    def maxSum(self, nums: List[int]) -> int:
        from collections import defaultdict

        def max_digit(num):
            return max(map(int, str(num)))

        groups = defaultdict(list)
        for num in nums:
            d = max_digit(num)
            groups[d].append(num)

        max_sum = -1
        for group in groups.values():
            if len(group) >= 2:
                group.sort(reverse=True)
                max_sum = max(max_sum, group[0] + group[1])

        return max_sum
